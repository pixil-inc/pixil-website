---
import { Image } from 'astro:assets';
import type { Service } from '@/types';

interface Props {
  id: number;
  service: Service;
}

const { id, service } = Astro.props;
const { heading, description, image } = service;
const top = id * 8 + 20;
---

<div
  class={`sticky top-${top} flex flex-col items-center gap-12 rounded-3xl border border-black/5 bg-white p-8 shadow-[0_-5px_30px_rgba(0,0,0,0.08)] transition-all duration-500 md:flex-row md:p-16`}
>
  <div class="flex-1 space-y-6">
    <span class="text-charcoal/50 rounded-full border border-black/10 px-2 py-1 font-mono text-xs"
      >{id.toString().padStart(2, '0')}</span
    >
    <h3 class="font-display text-3xl font-medium md:text-4xl">{heading}</h3>
    <p class="text-charcoal/60 text-lg leading-relaxed">
      {description}
    </p>
  </div>
  <div
    class="group relative aspect-[4/3] w-full overflow-hidden rounded-xl bg-gray-100 shadow-inner md:w-1/2"
  >
    <Image
      src={image.src}
      alt={image.alt}
      format="webp"
      quality={85}
      loading="lazy"
      densities={[1, 2]}
      width="450"
      height="340"
      class="h-full w-full object-cover transition-transform duration-1000 group-hover:scale-105"
    />
  </div>
</div>
